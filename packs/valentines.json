{
  "id": "valentines",
  "version": 1,
  "name": "Valentine's Day",
  "greeting": "Happy Valentine's Day!",
  "js": "(function(){ if (window._valentinesLoaded) return; window._valentinesLoaded = true; if (!window._contentOverlays) window._contentOverlays = []; var heartCanvas = null; function buildHeart(px, colors) { var H = '#ff4477'; var sprite = [[0,H,H,0,H,H,0],[H,H,H,H,H,H,H],[H,H,H,H,H,H,H],[0,H,H,H,H,H,0],[0,0,H,H,H,0,0],[0,0,0,H,0,0,0]]; var c = document.createElement('canvas'); c.width = 7 * px; c.height = 6 * px; var x = c.getContext('2d'); for (var r = 0; r < 6; r++) for (var cl = 0; cl < 7; cl++) { if (sprite[r][cl]) { x.fillStyle = sprite[r][cl]; x.fillRect(cl * px, r * px, px, px); } } return c; } window._contentOverlays.push(function(ctx, b, bx, by, px, colors, gt) { if (b.expression !== 'love' && b.expression !== 'heart_eyes') return; if (!heartCanvas) heartCanvas = buildHeart(px, colors); var sw = 18 * px; var cx = bx + sw / 2; var baseY = by - heartCanvas.height - px; var bobY = baseY - Math.abs(Math.sin(gt * 4)) * 12; ctx.drawImage(heartCanvas, Math.round(cx - heartCanvas.width / 2), Math.round(bobY)); }); console.log('[AIVA Content] Valentine pack loaded'); })()"
}
